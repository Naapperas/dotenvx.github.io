<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    {% include layouts/meta.html %}
    {% include layouts/analytics.html %}
  </head>
  <body class="bg-lighter">
    <div class="wrapper">
      {{ content }}

      <div class="mw-21 m-auto">
        <form class="mb-1 mt-4 pt-1 pb-1" action="https://www.dotenv.org/signup-submit" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="ZGt20dJ8_wMu-cdVlIThzMLKT8E8pp5ldE2bkrX84IdeP-pKc2FdGwmr0jrj9gptg1l1P5E1WdIKd6rgI7F6CQ" autocomplete="off" />
          <fieldset>
            <div class="flex">
              <div class="flex-1">
                <h4 class="mt-04 mb-02">Sign Up</h4>
                <p class="mb-0 mt-0">Create your <strong>Dotenv Account</strong>. It's free.</p>
              </div>
              <div class="flex-auto">
                <a href="/"><img width="60" class="rounded" src="https://www.dotenv.org/assets/dotenv-logo-b6f776aca4f0c3d7d7b8c304e21ad72492d7d196a2d5fc76795a9c76d2ccc654.png" /></a>
              </div>
            </div>

            <hr/>
            
            <p>
              <label for="email">Email Address</label>
              <input autofocus="autofocus" placeholder="Email" class="" required="required" autocomplete="off" type="email" name="email" id="email" />
            </p>

            <div class="flex">
              <div class="flex-1">
                <label class="p" for="organization_name">Slug</label>
              </div>

              <div class="flex-auto">
                <small><small class="text-right small text-secondary mb-1">
                  <span class="text-light">dotenv.org/u/<span class="text-black" id="slug-autocomplete">ethereum-foundation</span></span>
                </small></small>

                <script>
                  $(function() {
                    $("input#organization_name[type='text']").on('input', function(e) {
                      var slug = e.target.value
                      console.log(slug)
                      $('#slug-autocomplete').html(slug)
                    })
                  })
                </script>
              </div>
            </div>

            <input class="" placeholder="ethereum-foundation" type="text" name="organization_name" id="organization_name" />

            <p class="mt-0 small text-gray"><small>You can always change this later</small></p>

            <input type="submit" name="commit" value="Create My Account" data-disable-with="Create My Account" />

            <hr/>

            <div class="cloudflare-turnstile">
              <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async="async" defer="defer"></script>
              <div class="cf-turnstile" data-sitekey="0x4AAAAAAAAyotC6vNMdN5WR"></div>
            </div>
          </fieldset>
        </form>

        <p class="text-center mb-5"><a class="text-secondary" href="/login">Already have an account? Log in.</a></p>

      </div>

      <script>
        function invalidEmail($input) {
          $input.addClass('hvr-buzz-out').addClass('animate-now')

          clearTimeout(cleanupTimeout)
          var cleanupTimeout = setTimeout(function() {
            $input.removeClass('hvr-buzz-out').removeClass('animate-now')
          }, 800)
        }

        var cleanupTimeout;

        $(document).on('load', function() {
          $('input[required]').on('invalid', function(e) {
            invalidEmail($(this))
          })
        })
      </script>

      <footer>
        <div>
          <ul>
            <li><a href="/support">Help &amp; Support</a></li>
            <li><a href="/legal">Privacy</a></li>
            <li><a href="/terms">Terms</a></li>
          </ul>
        </div>
        <div>
          <ul>
            <li><a href="/" class="text-secondary text-decoration-none">&copy; Dotenv</a></li>
          </ul>
        </div>
      </footer>
    </div>
  </body>
</html>
