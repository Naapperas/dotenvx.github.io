<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
<script src="https://code.iconify.design/iconify-icon/1.0.2/iconify-icon.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.10/dist/clipboard.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/readmore-js@3.0.0-beta-1/dist/readmore.js"></script>

<script>
  $(function() {
    var clipboard = new ClipboardJS('.clipboard-btn')

    // initialize tooltips - https://getbootstrap.com/docs/5.3/components/tooltips/
    const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
    const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))

    $('input[name="how-radio"]').change(function() {
      var value = $('input[name="how-radio"]:checked').val()
      if (value == '2') {
        $('.how-step').removeClass('d-block')
        $('.how-step').addClass('d-none')

        $('#step2').removeClass('d-none')
        $('#step2').addClass('d-block')
      } else if (value == '3') {
        $('.how-step').removeClass('d-block')
        $('.how-step').addClass('d-none')

        $('#step3').removeClass('d-none')
        $('#step3').addClass('d-block')
      } else {
        $('.how-step').removeClass('d-block')
        $('.how-step').addClass('d-none')

        $('#step1').removeClass('d-none')
        $('#step1').addClass('d-block')
      }
    })
  })

  // watch nav
  var topNav = document.getElementById('top-nav')
  if (topNav) {
    var scrolledABit = false
    window.addEventListener('scroll', function() {
      let scroll = window.scrollY

      if (scroll > 3) {
        if (scrolledABit == false) {
          topNav.style = '--bs-bg-opacity: 0.97;'
        }
        scrolledABit = true
      } else {
        if (scrolledABit == true) {
          topNav.style = '--bs-bg-opacity: 0;'
        }
        scrolledABit = false
      }
    })
  }

  // read more on problem section
  var problem1 = document.getElementById('problem-1')
  var problems = document.getElementsByClassName('problem')
  new Readmore(problems, {
    collapsedHeight: 30,
    moreLink: '<a href="#" class="text-secondary small mb-3">Read more</a>',
    lessLink: '<a href="#" class="text-secondary small mb-3">Read less</a>'
  })
</script>
